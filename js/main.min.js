var device=function(){var b=$("body").innerWidth(),c=$("body").innerHeight(),d=!!navigator.userAgent.match(/chrome/i),e=b<=1024,f=b<=768;return{width:function(a){return a&&(b=a),b},height:function(a){return a&&(c=a),c},chrome:function(a){return a&&(d=a),d},tablet:function(a){return a&&(e=a),e},mobile:function(a){return a&&(f=a),f},reset:function(){b=$("body").innerWidth(),c=$("body").innerHeight(),e=b<=1024,f=b<=768}}}(),video=function(){var c=$("#videoWrapper").html(),d=""!==$("#videoWrapper").html();return{HTML:function(a){return a&&(c=a),c},visible:function(a){return a&&(d=a),d},toggle:function(){var a=$("body").scrollTop();(device.tablet()||device.chrome()&&0!==a)&&d?(d=!1,$("#videoWrapper").html("")):device.tablet()&&(!device.chrome()||0===a)||d||(d=!0,$("#videoWrapper").html(c))},center:function(){if(!device.mobile()){var a=device.width()/596*336,b=device.height()/336*596;$("#home video").css("margin-left",a<device.height()?"-"+(b-device.width())/2+"px":"auto")}},init:function(){video.toggle(),video.center()}}}(),preloader=function(){return{init:function(){if(device.mobile())$("#jSplash").css("display","none"),$("body").css("display","block");else{var a;$("body").jpreLoader({splashID:"#jSplash",loaderVPos:"50%",splashVPos:"25%",splashFunction:function(){a=setInterval(function(){var a=$("#loading");a.html(a.html().length<3?a.html()+".":"")},500)}},function(){clearInterval(a)})}}}}(),nav=function(){return{pushState:function(a){"home"==a&&(a="/"),history.pushState({id:a},"",a)},scroll:function(a,b){var c=a.data("href");$.scrollTo($("#"+c),1e3,{offset:b},{onAfter:nav.pushState(c)})},animate:function(){var a=$("nav#mobile"),b="135px"==a.css("width")?"0":"135px",c=750;a.animate({display:"toggle",width:b},c),$("header").animate({left:b},c),$("#navHandle").animate({left:b},c),$("#pages").animate({left:b},c)},setHeight:function(){device.mobile()&&$("nav#mobile").css("height",$(document).height()+"px")},fadeBG:function(){0!==$(window).scrollTop()&&"rgba(0,0,0,.7)"!=$("header").css("backgroundColor")&&$("header").animate({backgroundColor:"rgba(0,0,0,.7)"},500)},init:function(){if($("header").on("click","img",function(){var a=$(this);nav.scroll(a,0)}),$("nav").on("click","a",function(){var a=$(this),b=-110;$("nav a.active").removeClass("active"),a.addClass("active"),device.mobile()&&(nav.animate(),b=0),nav.scroll(a,b)}),device.mobile()){$("#navHandle").on("click","span",function(){nav.animate()});var a=0;$(window).scroll(function(){var b=$(this),c=b.scrollLeft();c>a&&"135px"==$("nav#mobile").css("width")&&$(document).scrollLeft(0),a=c})}nav.setHeight(),nav.fadeBG()}}}(),project=function(){var c,b=[];return{init:function(){if($(".project>article").each(function(a){c=$(this),b[a]=c.css("height"),c.css("height",device.mobile()?"0px":"50px")}),device.mobile())$(".project").unbind("mouseenter mouseleave").on("click","img",function(){var a=$(this),d=a.parent();c=d.find("article"),$(".project>article").animate({height:"0px"},500),c.animate({height:"0px"==c.css("height")?b[d.data("id")]:"0px"},750)});else{var a;$(".project").unbind("click").hover(function(){a=$(this),a.find("img").fadeTo("slow",.3),a.find("article").animate({height:b[a.data("id")]},1e3)},function(){a=$(this),a.find("img").fadeTo("slow",1),a.find("article").animate({height:"50px"},1e3)})}},resetDescHeights:function(){$(".project>article").each(function(){var a=$(this);a.css("height","auto")})}}}(),skill=function(){var b=!1,c=!1;return{initilized:function(a){return a&&(b=a),b},mInitilized:function(a){return a&&(c=a),c},setSkillHeight:function(){var a=$("#chartWrapper"),b=a.css("height"),c=device.mobile()?"670px":"680px";a.css("height",c),$("#moreBtn").on("click","span",function(){a.animate({height:a.css("height")==c?b:c},1e3,function(){$("#moreBtn>span").html(a.css("height")==c?"View More":"View Less")})})},init:function(){device.mobile()?!c&&windowObj.pageVisible("skills")&&($.each($(".chart .barWrapper div"),function(){var a=$(this);a.animate({width:a.data("value")+"%"},1e3)}),c=!0):!b&&windowObj.pageVisible("skills")&&($.each($(".chart>canvas"),function(){var a=$("#"+$(this).attr("id")),b=a.get(0).getContext("2d");new Chart(b).Doughnut([{value:a.data("value"),color:"#f08800"},{value:10-a.data("value"),color:"#080a1c"}],{segmentShowStroke:!1,percentageInnerCutout:75,animationEasing:"easeOutQuart"})}),b=!0)},reset:function(){$("#moreBtn").unbind("click").html("View More"),$("#chartWrapper").css("height","auto")}}}(),windowObj=function(){var f,b=$(window),c=!1,d=!1,e=200;return{pageVisible:function(a){return $.each($(".page:in-viewport"),function(){var b=$(this);if(b.attr("id")==a)return c=!0,!1}),c},scrollEnd:function(){if(skill.init(),device.mobile()||nav.fadeBG(),new Date-f<e)setTimeout(windowObj.scrollEnd,e);else{d=!1;var a=b.scrollTop();0===a&&$("header").animate({backgroundColor:"rgba(0,0,0,0)"},500)}},scroll:function(){f=new Date,d===!1&&(d=!0,setTimeout(windowObj.scrollEnd,e))},resizeEnd:function(){new Date-f<e?setTimeout(windowObj.resizeEnd,e):(d=!1,device.reset(),nav.init(),project.resetDescHeights(),project.init(),video.toggle(),video.center(),skill.reset(),skill.init(),skill.setSkillHeight())},resize:function(){f=new Date,d===!1&&(d=!0,setTimeout(windowObj.resizeEnd,e))},init:function(){var a=$(window);a.scroll(function(){windowObj.scroll()}),a.resize(function(){windowObj.resize()});var b=window.location.pathname;b=b.substring(1,b.length),""!=b&&$("nav a[data-href="+b+"]").trigger("click"),$("button").hover(function(){$(this).animate({backgroundColor:"#181818"},500)},function(){$(this).animate({backgroundColor:"#282828"},500)})}}}();preloader.init(),$(function(){video.init(),nav.init(),project.init(),skill.setSkillHeight(),skill.init(),windowObj.init()});